{% extends '../base.html' %}
{% block content %}

<div class="container">
    <h4>Piotroski F-Scores</h4><br>
    <form action="" method="post">
        {% csrf_token %}
        {{ forms.optimize }}
        <div id="progress-wrapper">
            <input type="submit" value="Update scores", id="progress-bar-trigger">
            <div id="progress-bar" style="background-color: blue; width: 0%;">&nbsp;</div>
            <div id="progress-bar-message"> </div>
        </div>
    </form>
    <table class="table table-sm">
        <thead class="thead-dark">
        <tr>
            <th>Symbol</th>
            <th>Name</th>
            <th>Country</th>
            <th>Currency</th>
            <th>Industry</th>
            <th>Sector</th>
            <th>F-score</th>
            <th>Weighted F-score</th>
            <th>Calculation date</th>
        </tr>
        </thead>
        <tbody>
        <!-- jinja2 Technique -->
        {% if score_table %}
        {% for i in score_table %}
        <tr>
            <td>{{i.symbol}}</td>
            <td>{{i.longname}}</td>
            <td>{{i.country}}</td>
            <td>{{i.currency}}</td>
            <td>{{i.industry}}</td>
            <td>{{i.sector}}</td>
            <td>{{i.PF_score}}</td>
            <td>{{i.PF_score_weighted}}</td>
            <td>{{i.date}}</td>
        </tr>
        {% endfor %}
        {% endif %}
        </tbody>
    </table>
</div>

{% endblock %}